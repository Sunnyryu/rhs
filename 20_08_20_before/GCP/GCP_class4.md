## Google Cloud

#### GCP Class 4

```

Managed Instance Groups..?

인스턴스 그룹은 로드밸런스에 붙인다고 생각하면 되용..

L4가 있고.. l4 ip를 보고 외부 클라이언트 ip가 바라보고 들어오고.. l4에서 실제를 분배를 해줌..

GCGP에서는 로드밸런스에 인스턴스 그룹에 붙이고 전달해줌...

언 매니지드 그룹의 경우에는 돌아가는 인스턴스를 붙어서 사용하게 되어있음..

매니지드 인스턴스의 경우에는 구글에서 관리해주겠다. -> 우리는 인스턴스를 만들 필요는 없이, 오토스케일링을 하거나 인스턴스를 몇개 붙일지만 정해주면 되옵니다.

웹서버를 만들어서 서비스를 하고 싶음 -> myfrodo -> 그걸 올리고 싶음 -> 매니저드 인터페이스를 하더라도 오토스케일링을 안할 수 있음.. (구글이 매니지드 할꺼냐 안할꺼냐..가 중요함) -> 웹서버가 없는데 어떻게 할꺼냐..??? -> 우리가 템플릿(빵틀)을 제공해주면.. 구글이 웹서버를 만들어줌(매니저드 인스턴스 그룹!!)

vm을 만드는 것과 템플릿을 만드는 것이 동일함.. -> 템플릿을 만들 때....... 이미지가 있어야함...

인스턴스의 최대 사이즈, 최소 사이즈(한계)를 정할 수 있음... => 무한정이나 악의적으로 늘어가는 것을 방지할 수 있음 ()

헬스 체크..-> 문제가 없는 건강한 서비스에만 제공하기 위해서 점검을 하는 것임..

HTTP(S) Load Balancing !

구글에서는 글로벌 로드밸런스의 경우 : HTTP(S) / SSL proxy / TCP proxy 가 있고, Internal TCP/UDP, Netwrok TCP/UDP, Internal HTTP(S)가 리저널로 되어 있음

애니캐스트가 로드밸런스의 키이기도 함..??

로드 밸런스의 디폴트는 ... 프록시 타입임....
타켓 프록시는 로드밸런스 ip(공인 ip) / URL Map -> Backend Service(인스턴스 그룹이라고 생각하자) -> 인스턴스 그룹에는 실제 인스턴스가 붙어있음

백엔드 서비스는 인스턴스 뿐만 아니라 다른것도 가능함...

세션 에피니티(스티키 룰이라고 생각하자 => 처음에 붙었던 서버쪽으로 붙지 않을수 있음..... 어피니티 룰을 설정해주면 되옵니다.)
http 로드 밸런스( 글로벌 서비스)

http://www.gcping.com
라텐시가 가장 작은 쪽으로 응답을 줌 (한국과 제일 가까운건... 도쿄...)

구글에서 ip는 글로벌 (애니케스트 컨셉)
구글은 하나의 망으로 되어 있음

로드 밸런스를 설정 할 때에는 ip가 설정됨 ==> DNS에 등록을 해야하고 타켓 IP가 필요하므로... 구글은 고정 IP가 있어 가능함...

https 로드 밸런싱

인증서가 있어야 함!!

대칭키 암호화 = 암복호화 키가 같음 / 비대칭 암호화는 암복호화 키가 다름

https로 접속할 때 비대칭키로 .. 키를 받음 ... 그래서 네이버와 우리가 같은 키를 가지고 있음 ( 대칭키로 암호화를 함.... => 비대칭 키는 리소스가 커서 그러한 점은 안좋음 ..)

인증서를 가지고 ssh 통신을 함 (서버인증서)
신뢰할 수 있는 인증서를 발급해줄 수 있는 사이트가 있는데.. 인증서를 사서 브라우저에 넣어서 인증서를 넣어주면 됨.

구글이 인증서를 만들 수 있음 => 인증서를 안 넣을 수 있고... 구매한 인증서를 넣으려면 certificates로 넣으면 되옴니다.  

퍼블릭 키와 체인키를 머지하거나 / 따로 넣을 수 있는 방식이 있음

센서 / 실시간 => 빅테이블!!




```
