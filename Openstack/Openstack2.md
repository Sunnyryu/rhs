## Funny Openstack

#### Openstack

##### OpenStack study


1. 오픈스택과 아키텍처
  1-1. 정리(1)
  - 처음 릴리즈 때는 하이퍼바이저와 연동해서 인스턴스를 생성하고 삭제하는 컴퓨트서비스, 운영체제 이미지를 관리하는 이미지 서비스, 이미지를 백업하는 오브젝트 서비스 밖에 없었음
  - 상황별 오픈스택 구성 요소
    - HTC (High Throughput Computing)
      - 수십만 개의 코어로 확장할 수 있게 설계된 클라우드를 구축할 때, HTC 사용자는 Nova compute로 전환해 Horizon 대시보드로 단일 API 엔드포인트를 사용자에게 제공 / Keystone은 일반적으로 사용자 계저이 저장되는 LDAP 백엔드를 연결하는데 사용
      - 아래와 같은 서비스가 필요함
      - 대시보드 서비스(Horizon)
      - 텔레미터 서비스(Ceilometer)
      - 블록 스토리지 서비스(Cinder)
      - 오케스트레이션 서비스(Heat)
      - 이미지 서비스(Glance)
      - 인증 서비스(Keystone)
      - 컴퓨트 서비스(Nova)
    - 웹호스팅
      - 웹 호스팅하는데 오픈스택을 사용할 때, 일반적인 코어 서비스를 이ㅛㅇ하여, 사용자 계ㅓㅇ 데이터를 수집, 요금 청구시 일부 기술로 Ceilometer를 활용
      - 네트워크 서비스(Neutron)
      - 대시보드 서비스(Horizon)
      - 텔레미터 서비스(Ceilometer)
      - 이미지 서비스(Glance)
      - 인증 서비스(Keystone)
      - 컴퓨트 서비스(Nova)
    - 퍼블릭 클라우드 (Iaas를 제공하는 퍼블릭 클라우드를 지원 - 오픈스택!)
      - 일반적인 코어서비스, Swift를 사용해 오브젝트 스토리지 서비스를 제공, Designate는 DNSaaS를 제공(DNS as a Service)
      - 네트워크 서비스(Neutron)
      - 도메인 네임 서비스 (Designate)
      - 블록 스토리지 서비스(Cinder)
      - 이미지 서비스(Glance)
      - 오브젝트 서비스 스토리지(Swift)
      - 인증 서비스(Keystone)
      - 컴퓨트 서비스(Nova)
    - 웺서비스, 전자상거래
      - 오픈스택을 이용해 웹서비스, 전자상거래의 백엔드로도 사용 / 오픈스택 클라우드는 PCI 표준처럼 엄격한 규정 준수 요건을 충족 + 구성 / Trove는 내부 고객에서 DaaS(Database as a Service)를 제공 / 네트워크 정의 소프트웨어 SDN은 Neutron 제공
      - 네트워크 서비스(Neutron)
      - 대시보드 서비스(Horizon)
      - 데이터베이스 서비스(Trove)
      - 블록 스토리지 서비스(Cinder)
      - 이미지 서비스(Glance)
      - 인증 서비스(Keystone)
      - 컴퓨트 서비스(Nova)
    - 컴퓨터 스타터 키트
      - 스타터 키트는 추가 기능으로 클라우드를 확장할 수 있는 방법을 문서화로 제공하는 단순한 프로젝트를 말함
      - 네트워크 서비스(Neutron)
      - 이미지 서비스(Glance)
      - 인증 서비스(Keystone)
      - 컴퓨트 서비스(Nova)
    - 빅데이터
      - 빅데이터 분석 서비스인 Sahara 프로젝트는 오픈스택 위에 빅데이터 응용프로그램(Hadoop or Spark)를 간단하게 제공할 수 있는 방법 제공 / 다양한 데이터 처리 프레임 워크 지원 !
      - 네트워크 서비스(Neutron)
      - 대시보드 서비스(Horizon)
      - 베어메탈 서비스(Ironic)
      - 빅데이터 서비스(Sahara)
      - 이미지 서비스(Glance)
      - 인증 서비스(Keystone)
      - 컴퓨트 서비스(Nova)
    - DBaaS
      - 여러 SQL 및 NoSQL 백엔드를 지원함 / Ironic 프로젝트는 데이터베이스의 성능을 극대화하려고 베어메탈 프로비저닝을 제공
      - 네트워크 서비스(Neutron)
      - 대시보드 서비스(Horizon)
      - 데이터베이스 서비스(Trove)
      - 도메인 네임 서비스 (Designate)
      - 베어메탈 서비스(Ironic)
      - 블록 스토리지 서비스(Cinder)
      - 오브젝트 서비스 스토리지(Swift)
      - 이미지 서비스(Glance)
      - 인증 서비스(Keystone)
      - 컴퓨트 서비스(Nova)
    - 비디오 처리와 콘텐츠 전달
      - 제작 스튜디오나 주요 케이블 서비스 제공업체 같은 곳의 비디오 처리와 콘턴체 전달은 오픈스택의 보편적인 사용 예임
      - 네트워크 서비스(Neutron)
      - 오브젝트 서비스 스토리지(Swift)
      - 인증 서비스(Keystone)
      - 컴퓨트 서비스(Nova)
    - 컨테이너 서비스
      - 오픈스택은 신기술과 통합해 사용자가 가상 멋니, 컨테이너, 베어메탈에서 실행되는 워크로드를 단일 클라우드에서 운영할 수 있도록 개발
      - 오픈스택 사용자는 Kubernetes, Mesos, Docker와 같은 새로운 컨테이너 오케스트레이션 엔진(COE, Container Orchestaration Engines)과 통합하려고 Magnum 프로젝트에 엑세스할 수 있음
      - 네트워크 서비스(Neutron)
      - 대시보드 서비스(Horizon)
      - 베어메탈 서비스(Ironic)
      - 블록 스토리지 서비스(Cinder)
      - 이미지 서비스(Glance)
      - 인증 서비스(Keystone)
      - 컨테이너 서비스(Magnum)
      - 컴퓨트 서비스(Nova)

 1-2. 서비스 종류 + 아키텍처
 - Nova(가상 서버를 생성하는 컴퓨트)
      - 컴퓨트 서비스의 핵심, 하이퍼바이저, 메시지 Queue, 인스턴스 접속을 하는 콘솔 등 다양한 기능이 유기적으로 연결되어 가상 서버를 생성할 수 있는 시스템 구상
      - 논리 아키텍처의 Nova
        - Nova-api(대시보드나 콘솔 호출) -> 메시지 Queue(인스턴스 생성하라는 명렁어) -> nova-compute(하이퍼 바이저 라이브러리를 이용해 하이퍼바이저에 인스턴스를 생성하라는 명렁어 전달) -> 하이퍼바이저가 인스턴스 생성 -> 생성된 인스턴스는 nova-api로 접근할 수 있으며 Nova의 모든 기능은 메세지 Queue로 처리 가능
        - 오픈스택의 기본 하이퍼바이저는 KVM/QEMU임,
        - 지원하는 그룹을 3개로 나누어보면, A그룹은 자체 테스트를 완료해 안정적인 서비스를 할 수 있는 하이퍼바이저 드라이버(QEMU, KVM), 그룹B는 프로바이더가 테스트하는 하이퍼바이저 드라이버인 Hyper-V, VMware, Xen Server, Xen via Libvirt이며, C그룹은 몇 번의 테스탐 하는 하이퍼바이저 드라이버인 베어메탈, Docker, LXC via librvirt임
      - 노드별로 설치되는 Nova 프로세스
        - 컨트롤러 노드에 설치되는 nova 프로세스
        - nova-api : Nova의 REST API 서버 담당
        - nova-cert: X509 인증서 서비스를 제공하는 서버 데몬
        - nova-conductor : 코디네이션과 db 쿼리를 지원하는 서버 데몬
        - nova-consoleauth : nova-console 인증을 제공
        - nova-novncproxy : novanc-console과 호환되는 웹 소켓 프록시
        - nova-scheduler : VM 인스턴스를 실행할 컴퓨트 노드를 선택하는 역할
        - nova-novaclient : Nova REST API를 사용하는 클라이언트 프로그램
      - 컴퓨터 노드에는 다음 몇개만 설치
        - nova-compute-kvm : 인스턴스(가상 머신)와 관련된 모든 프로세스를 처리
        - python-guestfs : 파일 생성 기능을 지원하는 Python 라이브러리
        - qemu-kvm : KVM 하이퍼바이저
  - 오브젝트 스토리지 (Swift)
    - 다른 서비스와 다르게 단독으로 구성되며, 클라우드 스토리지 서비스를 구축 가능
    - 논리 아키텍처의 Swift
      - 오픈스택 Swift는 swift-proxy-server, swift-account-server, swift-container-server, swift-object-server로 구성
      - swift-proxy-server는 wift-account-server, swift-container-server, swift-object-server를 관리
      - 어카운트, 컨테이너는 별도의 메타데이터가 db로 관리
      - 오브젝트는 저장 공간에 직접 저장되는 방식으로 설계
      - 사용자는 API를 사용해 데이터 저장 / 내려받을 수 있음
    - Swift의 논리적 구성 요소
      - 인증 : 사용자 인증을 담당하는 기능 (어카운트 및 사용자 생성,조회,삭제,인증 처리)
      - 어카운트 : 사용자 계정 및 컨테이너 관리 ( 스토리지 및 컨테이너 조회, 메타데이터 추가)
      - 컨테이너 : 저장 공간 단위로 컨테이너 안의 오브젝트 정보를 관리 (스토리지 및 오브젝트 조회, 컨테이너 생성,삭제)
      - 오브젝트 : 실제 데이터(오브ㅈ젝트 조회, 다운로드, 업로드, 복사, 삭제)
      - 스토리지 노드에는 swift-account, swift-container-server, swift-object-server가 실행 / 실제 metadata 파일이나 오브젝트에 해당하는 데이터 파일을 저장 (Keystone 인증 / 프록시 서버 함께 설치)
    - Swift Ring
      - 스토리지 노드가 여러 대!
      - 관리자가 설정한 해당 포트로 서로 통신
      - 하나라도 손상이 되면 데이터를 잃지 않도록 데이터 복제(Replica) 프로세스 함꼐 실행 (스토리지 노드 중에서)
      - 스토리지 노드 여러대는 자신이 관리하는 데이터를 서로 공유하려고 이름이 Ring인 파일로 어떤 노드가 스토리지 노드인지 어떤 데이터가 있는지 인지
      - 링 파일로 어떤 노드가 스토리지 노드인지, 어떤 데이터가 있는지 인지
      - 링파일은 디바이스를 구별하는 ID, 존 번호, 스토리지 노드 IP, 포트, 디바이스 이름, 디바이스 비중, 기타 디바이스 정보 포함
      - 링 파일은 프록시 노드에서 생성해 모든 스토리지 노드가 동일하게 가지고 있음
    - Swift의 데이터 관리 방법
      - ex) 써니라는 사용자가 Swift를 사용한다면 Account DB에는 SUNNY가 생성한 컨테이너 정보가 관리되고, 각 Contatiner DB에서는 컨테이너에 저장된 오브젝트들이 관리됨 (오브젝트는 실제 파일로 스토리지 노드의 저장 공간에 저장 )
      - 일반적으로 Swift는 보통 프록시 노드 1대에 스토리지 노드 5대로 구상하기를 권장
      - 프록시 노드들은 로드밸런서로 묶여 있어 사용자는 특정 URL 하나만 호출해도 스토리지 서버스를 자유롭게 사용할 수 있음.
      - 물론 파일을 올릴 때는 설저된 레플리카(데이터 몇 개를 백업할 것인지 설정하는 값)로 여러 스토리지 노드로 분산해서 저장하며, 내려받을 때는 저장된 것 중 한 곳에서 받음, 여러개의 프록시 노드를 두면 부하를 분산시켜서 사용자가 데이터를 올리고 내릴 때 속도와 성능을 향상할 수 있음
    - Swift와 KeyStone의 관계
      - SwAuth를 이용하는 인증방법 / Keystone을 이용하는 인증 방법이 있음
      - 최근에는 Keystone을 이용해서 주로 인증 / KeyStone에는 프로젝트, 사용자, 롤이 있음
      - 관리자는 사요자와 컨테이너를 생성,삭제 가능
      - 관리자는 오브젝트도 올리기, 내려받기, 삭제할 수 있음
      - 일반 사용자는 사용자와 컨테이너를 생성할 수 없음
      - 일반 사용자는 관리자가 미리 생성해서 권한을 준 컨테이너만 사용 가능
      - 일반 사용자는 관리자가 설정한 권한으로 오브젝트 목록을 확인할 수 있음
      - 일반 사용자는 관리자가 설정한 권한으로 데이터를 올리고 내릴 수 있음
      - 특정 사용자에게 관리자 권한을 부여하려면 리셀러어드민 롤을 주어야함(resellerAdmin)
      - 해당 사용자는 관리자가 할 수 있는 기능을 모두 사용할 수 있음
    - Swift의 이레이저 코딩 기능과 스토리지 정책
      - 스토리지 저장 공간을 효율적으로 관리할 수 있는 이레이저 코딩 기능
      - 다양한 물리 스토리지 디바이스를 정책별로 사요여할 수 있게 지원하는 스토리지 정책 기능이 있음
      - 이레이저 코딩은 HDFS, RAID 외의 스토리지에서 데이터 저장 공간의 효율성을 높이려고 설계된 데이터 복제 방식
      - 이레이저 코드를 사용해 데이터를 인코딩하고, 데이터가 손실되면 디코딩 과정을 거쳐 원본 데이터를 복구하는 기법 중 하나
      - 이레이저 코드와 각 코드마다 사용하는 알고리즘은 다양한데 이런 알고리즘에 Reed-Solomon Code, Tahoe-LAFS, Weaver Code
      - 데이터 (n 등분) -> 인코딩 (k개) -> n+k개 -> 디코딩 -> n개 -> 원상 복구!!
      - 스토리지 정책은 여러 오브젝트링을 생성해 다양한 목적으로 클러스터를 세그먼트화 할 수 있음
      - 수정된 해시링으로 클러스터에서 데이터가 있어야 할 위치를 결정 / 어카운트, 컨테이너, 오브젝트에 해당하는 각 링을 스토리지 정책을 이용해 서로 다른 저장 개체를 서로 다른 링에서 사용할 수 있음
      - 스토리지 정책으로 복재 기본 정책(3 리플리카)과 2 리플리카를 사용하는 또다른 정책을 생성하고 활요할 수 있음
      - SSD를 스토리지 그룹에 추가 / 특정 컨테이너가 오브젝트를 저장하도록 스토리지 계층 정책을 생성할 수 있음
      - 이레이저 코드를 사용해 콜드 스토리지 계층도 정의 가능
  - Glance(운영체제 이미지를 관리하는 Glance)
    - 컴퓨터 1대가 있다고 하면 컴퓨터를 사오ㅛㅇ하기 위해 운영체제를 설치해야 하는데, 종류가 많음
    - CD가 필요하거나 USB 등을 가지고 있어야함
    - 그런데 가상 머신을 생성해 사용할 때 Glance는 다양한 하이퍼바이저에서 사용할 수 있는 VM 이미지를 관리하고 VM에 설치된 운영체제를 보관, 관리할 수 있음
    - 논리 아키텍처의 Glance
      - Glance 사용자들은 glance-api로 이미지를 등록, 삭제, 관리 가능
      - glance-api는 glance-registry와 Glance Database에서 이미지 관리
      - 이미지를 등록할 때는 glance-registry로 Glance Database에 저장
      - 등록된 이미지를 사용할 때는 Glance Database에 바로 사용을 요청
      - 관리자는 운영하려는 운영체제의 이미지를 glance-registry로 Glance Database에 등록
      - 오픈스택 컴퓨트 서비승서 인스턴스를 생성할 때는 Glance Database에 이미 저장된 이미지만으르도 인스턴스를 생성할 수 있음 (Glance는 Nova를 따라다님)
    - 가상머신 이미지 포멧
      - 이미지 포맷에는 어떤 VM을 사용하는지 정보가 들어 있음
      - 일반적으로는 이미지를 내려받아 Glance에 등록할 때는 raw 포맷이나 qcow포맷으로 등록
      - aki(아마존커널 이미지), ami(아마존머신 이미지), ari(아마존 RAM 디스크 이미지), iso(광학 디스크나 CD-ROM의 데이터 콘텐츠를 지원하는 아카이브 포맷)
      - qcow2(QEMU 에뮬레이터가 지원하는 포맷임, 동적으로 확장할 수 있으며, Copy on Write를 지원)
      - raw(구조화도지 않은 디스크 포맷, 여러분이 가진 디스크 포맷이 확장되지 않은 구조라면 raw 포맷)
      - vdi(VirtualBox 모니ㅓㅌ와 QEMU 에뮬레이터가 지원하는 디스크 포맷)
      - vhd(VHD 디스크 포맷은 VMware, Xen, 마이크로소프트, VirtualBox 같은 가상 머신 모니터가 사용하는 일반적인 디스크 포맷)
      - vhdx(VHDX 디스크 포맷은 큰 디스크 크기를 지원하는 VHD 형식의 향상 버전)
      - vmdk(일반적인 디스크 포맷으로 여러 가상 머신 모니터가 지원)
    - 컨테이너 포맷
      - VM 이미지가 실제 VM 메타데이터를 포함하는 파일 포맷
      - aki, ami, ari는 이미지 포맷과 컨테이너 포맷에 모두 사용
      - bare(qcow2 이미지용 컨테이너 포맷으로 메타데이터 포함 x), docker(Docker 컨테이너 포맷), ova(tar 파일의 OVF 패키지), ovf(OVF 컨테이너 포맷 )
    - 지원하는 운영체제 이미지
      - 오픈스택 Nova에서 인스턴스를 생성할 때는 이미 하이퍼바이저에서 생성한 가상 머신에 운영체제를 설치한 이미지를 Glance에 등록시키고, 등록시ㅣㄴ 이미지를 이용해서 인스턴스 생성
  - Keystone(인증을 관리함)
    - 오픈스택의 인증 서비스인 Keystone은 인증 토큰을 비롯해 테넌트 및 사용자 관리, 서비스의 엔드포인트 URL 등을 관리하는 기본서비스
    - KeyStone 인증에 성공하지 못하면 오픈스택의 그 어떤 서비스도 이용 x
    - 집을 들어오려면 현관문 키가 있어야하는데 그것이 Keystone이라고 이해하기!
    - 오픈스택은 물리서버의 자원을 사용할 수 있도록 인증을 받아야하는데 Keystone이 물리 서버 자원을 사용할 수 있도록 관리
  - 논리 아키텍처의 Keystone
      - 논리 아키텍처에서 Keystone은 Keystone은 Keystone-all, database와 LDAP로 구성됨, keystone-all에는 토큰, 카탈로그, 정책, 인증 등이 포함되어 있음
      - Token Backend는 사용자별 토큰을 관리
      - Catalog Backend는 오픈 스택에서 모든 서비스의 엔드포인트 URL을 관리
      - Policy Backend는 테넌트, 사용자 계정, 롤 등을 관리
      - identity Backend로 사용자 인증을 관리
    - 오픈스택에서 Keystone 위치
      - Keystone은 타인이나 해커에게서 시스템을 안전하게 보호하고, 사용자 등록, 삭제, 권한 관리, 사용자가 접근할 수 있는 서비스 백단에서 오픈스택의 모든 서비스를 관장하고 있음
    - 도메인, 프로젝트, 그룹, 사용자, 롤의 개념과 관계
      - Keystone은 사용자 인증부분과 서비스 인증부분을 관리 / 사용자일 때는 사용자 그룹인 프로젝트(Project), 사용자 계정 정보인 사용자 ID, Password, 롤을 등록함 / 서비스 일 때는 서비스 등록 / 해당 서비스의 엔드포인트 URL을 등록
      - 도메인은 서로 분리되어 있음
      - 각 도메인에는 프로젝트의 사용자가 있음
      - 프로젝트는 사용자를 가질수 있음
      - 사용자에게는 롤이 있으며, 여러 프로젝트의 구성원리 될 수 있음
      - 관리자 롤을 가진 사용자끼리, 일반 사용자 롤을 가진 사용자 끼리 그룹핑을 할 수 있음
      - EX) 회사에서 인트라넷 시스템을 개발한다고 했을 때 근무하는 회사는 Keystone의 도메인이며, 관리자와 일반 사용자는 Keystone의 프로젝트, 시스템을 잘 개발하는 직원은 관리자이며, 사용자임, 관리자가 시스템을 이용해 할 수 있는 역할은 틀에 해당, 메뉴는 서비스에 해당, 메뉴에 연결할 링크는 엔드포인트 URL에 해당
  - Neutron(네트워크 관리)
    - Quantum이라는 이름으로 릴리즈 되었지만 이름이 변경되어짐
    - SDN 개념이 들어오면서 별도의 네트워크 프로젝트로 분리됨
    - 논리 아키텍처의 Neutron
      - neutron-server, Neutron L2 Agent* * 및 neutron-l3-agent *  neutron-dhcp-agent, Queue, Neutron Database, Neutron 3rd Party Plugin으로 구성
      - Neutron은 다양한 네트워크 플러그인 과 네트워크 모델을 지원
      - ex) 논리 아키텍처 Neutron 부분
        - 사용자는 Neutron API를 이용해 neutron-server로 ip 할당 요청
        - neutron-server는 들어온 요청을 Queue에 다시 요청
        - Queue는 neutron-dhcp-agent와 Neutron 3rd Party Plugin으로 IP 할당 지시 내림
        - neutron-dhcp-agent와 Neutron 3rd Party Plugin은 지시 받은 작업 수행을 시작
        - 그리고 neutron-server는 수시로 작업 상태를 Neutron Database에 저장
        - 할당된 ip를 인스턴스에서 사용 가능!
    - Neutron이 지원하는 플러그인 종류
      - SDN 개념이 나오면서 시작된 프로젝트임
      - OpenSwitch, Cisco UCS/Nexus 등 여러가지가 있음
    - Neutron / VRRP / DVR
      - 예전에는 사용자가 인스턴스를 생성하고 사용하는 과정에서 무수한 병목현상이 나타남
      - 그래서 해결하려고 Neutron에서는 VRRP를 사용한 DVR,기능을 추가했음
      - VRRP는 Virtual Router Redundancy Protocol로 랜(근거리 통신망)에서 정적으로 설정된 기본 라우터를 사용할 때 하나 이상의 백업 라우터를 사용하는 방법을 제공하는 IP임
      - 기존에 문제가 있던것과 달리 VRRP를 사용해 2개 이상의 라우터를 마스터 라우터와 백업 라우터로 설정하면 문제가 생겼을 때도 계속 네트워크를 사용할 수 있음
      - VRRP 기술은 오픈스택의 네트워크 풀질을 향상시켜주고 DVR(Distributed Virtual Router) 기능을 사용할 수 있게됨
      - dvr 기능을 사용하면 vrrp 기능 향상, 분산 라우팅 기능과 HA(High Availability) 로드밸런싱 기능을 사용할 수 있음
      - 기존 레거시 HA 라우터와 마찬가지로 DVR/SNAT(Static NAT) HA 라우터는 다른 노드에서 실행되는 L3 Agent의 백업 DVR/SNAT 라우터에서 SNAT 서비스 장애를 빠르게 해결 가능 !
    - Cinder (블록 스토리지 관리)
      - Nova에 생성된 ㅇ니스턴스에 확장해서 사용할 수 있는 저장 공간을 생성, 삭제하고 인스턴스에 연결할 수 있는 기능을 제공함
      - 인스턴스에 저장 공간을 연결하려면 어떤 구성 요소를 사용해야 하는지 논리 아키텍처로 알아보자면
      - 논리 아키텍처의 Cinder
        - cinder-api, QUeue, CInder Database, cinder-volume, Volume Provider, cinder-scheduler로 구성
        - cinder-api로 볼륨을 추가, 삭제할 수 있음
        - cinder-volume은 볼륨을 실제로 생성하고 Cinder Database에 볼륨정보를 업데이트
        - Cinder는 물리 하드 디스크를 LVM(Logical Volume Manager)으로 설정
        - 설정한 LVM은 cinder.conf와 nova.conf의 환경을 설정해서 cinder-volume을 할당할 수 있음
        - cinder-api로 생성된 볼륨은 단일 인스턴스 또는 여러 인스턴스에 할당할 수 있음
      - Cinder가 지원하는 블록 스토리지 드라이버
        - 기본 블록 스토리지 드라이버는 iSCSI 기반의 LVM임 , LVM은 하드 디스크를 파티션 대신 논리 볼륨으로 할당 / 디스크 여러 개를 좀더 효율적이고 유연하게 관리할 수 있는 방식
        - LVM 논리 볼륨의 기본 물리 스토리지 단위는 파티션이나 전체 디스크 같은 블록 장치
        - 몰리 볼륨으로 초기호해야하며, 논리 볼륨을 생성하려면 물리 볼륨을 볼륨 그룹으로 통합해야함, 논리 볼륨을 할당할 수 있는 디스크 공간을 생성
        - 부트로더는 논리 볼륨 그룹을 읽을 수 없기에 /boot 파티션은 논리 볼륨 그룹에 위치할 수 없음
        - 논리 볼륨 그룹은 논리 불륨 여러 개로 나누며 이 논리 볼륨에는 마운트 지점과 파일 시스템 유형이 부여됨
        - ex) 파티션 용량이 가득차면 논리 볼륨 그룹에서 여유공간을 가져와 논리 볼륨으로 추가해 그 파티션 용량을 확장시킴 / 새로운 하드 드라이브를 운영체제에 추가하면 이 하드 드라이브는 논리 볼륨 그룹과 확장 가능한 파티션인 논리 볼륨으로 추가!!
        - 생성된 볼륨을 인스턴스에 할당해 디스크처럼 사용 가능
    - Horizon(대시보드)
      - 사용자가 웹 UI로 인스턴스 생성, 삭제, 관리 등을 쉽고 빠르게 처리할 수 있게 지원 / Horizon은 아파치 웹 서버를 사용 / 대시보드는 Python과 DJango 프레임워크로 구현되어 있음
      - 논리 아키텍처의 Horizon
        - 단순히 자체 모듈만 있음 / api와 연동해서 사용자에게 웹서비스를 제공 가능 (모든 서비스 api)
      - 오픈스택 대시보드로 인스턴스 생성,삭제, 재부팅 관리 등 가능 ,인스턴스의 스냅샷을 저장 할 수 있으며 IP설정, 방화벽 설정 등을 할 수 있음
      - 볼륨 스토리지를 생성하고 생성한 스토리지를 인스턴스와 연결할 수 있음
    - 옵셔널 서비스
      - 텔레미터, 오케스트레이션, DB 같은 서비스 등
      - 텔레미터 서비스
        - Ceilometer는 클라우드에서 배포된 자원의 사용량과 성능을 측정해 사용자가 자원 상태를 모니터링 할 수 있는 기능 제공
        - 분산된 클라우드 시스템의 자원 상태를 모니터링해 가시성과 통찰력 제공 / 자원 통계 확인 가능
        - ceilometer-collector(중앙 관리 서버에서 실행 / 메세지 Queue(에이전트에서 오는 미터링 데이터 알림)를 모니터링 할 수 있음 / 알림 메세지 처리 후 알림 메세지를 미터링으로 전환 메시지 버스를 이용해 밖으로 다시 전송함 / 수정없이 데이터 저장소에 기록)
        - ceilometer-agent-notification(중앙 관리 서버에서 실행, 메세지 Queue를 이용해 이벤트와 미터링 데이터 기록)
        - ceiometer-agent-compute(각 컴퓨팅 노드에 설치해서 실행, 자원 활용 통계 사용)
        - ceiometer-agent-central(중앙 관리 서버에서 실행/ 인스턴스에 연결되지 않은 자원이나 컴퓨트 노드의 활용 가능한 자원 통계를 폴링)
        - ceiometer-alarm-evaluator(하나 이상의 중앙 관리 서버에서 실행되며, 슬라이딩 시간대에 임계 값을 추가할 때 발생하는 경보 시점을 결정)
        - ceiometer-alarm-notifier(하나 이상의 중앙 관리 서버에서 실행, 샘플을 수집하는 임계값 평가에 따라 알람을 설정할 수 있음)
        - Ceilometer Database(수집한 데이터를 저장할 Ceilometer 데이터베이스)
        - ceilometer-api(하나 또는 그 이상의 중앙관리서버에서 실행, 데이터베이스에서 데이터 액세스를 제공)
      - Heat(오케스트레이션 서비스)
        - 오케스트레이션은 자원관리, 배치 ,정렬을 자동화 한다는 것임
        - 위의 과정을 자동화해서 인프라를 쉽게 배포할 수 있도록 지원하도록 하는 템플릿 기반 엔진
        - 사용되는 템플릿 언어는 인프라는 물론 서비스와 응용프로그램 전체 프로비저닝을 자동화하고 컴퓨팅, 스토리지, 네트워킹 구성뿐만 아니라 배포 후 작업도 지정할 수 있음, 오케스트레이션 엔진은 텔레미터 서비스와 통합해서 특정 인프라 요소의 자동 스케일링을 수행할 수 있음
        - Heat(aws CloudFormation API와 Heat API가 서로 커뮤니케이션을 할 수 있는 CLI임)
        - heat-api(RPC Heat 엔진에 전송해서 요청된 api를 처리하는 REST API를 제공)
        - headt-api-cfn(AWS CloudFormation과 호환되는 AWS 타입의 Query API를 제공)
        - heat-engine(템플릿 생성, Consumer(API를 사용하려고 접하는 어플이나 서비스) API를 다시 이벤트로 제공하는 오케스트레이션의 주 작업 수행)
      - Trove(DB 서비스)
        - 오픈스택에서 실행될 수 있게 설계, 관계형 DB 기능을 활용 가능
        - python-troveclient(클라이언트에서 콘솔로 trove-api를 실행할 수 있게 지원)
        - trove-api(RESTful API방식의 JSON을지원하며, Trove 인스턴스를 관리하고 프로비저닝함)
        - trove-taskmanager(인스턴스 프로비저닝을 지원, 인스턴스의 라이프 사이클 관리, 인스턴스를 운영하는 작업을 수행 )
        - trove-conductor(호스트에서 실행되는 서비스, 호스트 정보를 업데이트 할 때 게스트 인스턴스 메세지를 수신)
        - trove-guestagent(게스트 인스ㅓㄴ스 안에서 실행되며, 데이터베이스 작업을 실행 관리)
      - Sahara(데이터 프로세싱 서비스)
        - 사용자가 오픈스택 위에 빅데이터 어플리케이션인 Hadoop이나 Spark를 쉽게 제공할 수 있게 도와주는 서비스이며, 프레임워크 버전, 클러스터 토플로지, 노드 하드웨어 세부사항 등 매개변수를 지정해 수행할 수 있음
        - 논리 아키텍처
          - Auth(클라이언트 인증 및 권한 부여 -> Keystone과 통신)
          - DAL(Data Access Layer의 약어 / 데이터 액세스 게층 의미 DB 내부 모델 유지)
          - Secure Storage Access Layer(암호 및 개인 키 같은 인증 데이터를 안전한 저장소에 보관)
          - Provisioning Engine(오픈스택 컴퓨트 서비스 Nova, 오케스트레이션 서비스 Heat, 블록 스토리지 서비스 Cinder, 이미지 서비스 Glance, 도메인 네임 서비스 Designate와 통신을 담당하는 구성요소)
          - Vendor Plugins(프로비저닝된 VM에서 뎅터 처리 프레임워크 구성, 시작하는 기능을 담당하는 플러그 가능한 메커니즘)
          - EDP(Elastic Data Processing의 약어, Sahara가 제공하는 클러스터에서 data처리 작업을 예약하고 관리)
          - Rest API(REST HTTP 인터페이스로 Sahara 기능 호출)
          - Python Sahara Client( 다른 오픈스택 구성 요소와 마찬가지로 자체 파이썬 클라이언트가 있음)
          - Sahara Pages(Sahara용 GUI로 오픈스택 대시보드인 Horizon에 있음 )
      - Ironic(베어메탈 서비스)
        - 물리적인 컴퓨터를 관리 / 자원 제공하는 구성요소 모음
        - IPMI 메트릭을 사용하는 오픈스택 텔레미터 모듈(Ceilometer)
        - 인증 요청 및 다른 오픈스택 서비스를 인증하는 오픈스택 인증 서비스(KeyStone)
        - 이미지 및 이미지 메타데이터를 검색할 수 있는 오픈스택 이미지 서비스(Glance)
        - DHCP 및 네트워크를 구성하는 오픈스택 네트워크 서비스(Neutron)
        - Nova(오픈스택 네트워크 서비스)는 베어메탈 서비스와 함꼐 작동, 인스턴스를 관리하는 사요자용 API를 제공하며, 하드웨어 관리할 수 있는 운영자용 API를 제공, 오픈스택 컴퓨트 서비스는 베어메ㅏㄹ 서비스가 제공하지 않는 예약 기능, 테넌트 할당량, IP 할당, 기타 서비스 제공
        - 오픈스택 오브젝트 스토리지인 Swift는 드라이브 설정, 사용자 이미지, 배포 로그 및 점검 데이터의 임시 저장소를 제공
        - 요소
          - ironic-api(응용프로그램 요청을 원격 프로시저 호출(RPC)을 이용해서 ironic-conductor로 전송한 후 응용프로그램 요청을 처리하는 RESTful API
          - ironic-conductor(노드를 추가 편집 삭제, ipmi or ssh를 사용해 노드를 켜고 끔, 베어메탈 노드를 프로비저닝, 배치, 정리함)
          - ironic-python-agent(원격 엑서스, 하드웨어 제어, 하드웨어 기본 스팩으로 ironic-conductor 및 ironic-inspector 서비스를 제공하려고 임시 램 디스크에서 실행되는 파이썬 서비스)
      - 기타 서비스
        - Zaqar(메시징 서비스)
          - Zaqar는 웹 및 모바일 개발자를 위한 멀티 테넌트 클라우드 메세징과 알림 서비스임
          - 서비스에는 개발자가 다양한 통신 패턴을 사용해 SaaS 및 모바일 응용프로그램의 여러 구성 요소간에 메세지를 보낼 수 있게 하는 REST API가 있음
          - 확장성 및 보안을 고려해 설계된 효율적인 메시징 엔진
          - Websocket API도 함꼐 사용 가능
          - 다른 오픈스택 서비스들을 Zaqar와 함꼐 사용하면 최종 사용자에게 이벤트를 표시하고 오버 크랄우드 계층에서 실행되는 게스트 에이전트와 통신가능 , 고객에게 SQS,나 SNS 기능을 제공할 수 있음
          - 주요 기능으로는 HTTP 기반 RESTful / 지속적으로 연결하는 Websocket 기반의 API 중에 전송 모드 선택
          - Keystone 프로젝트 id를 기반으로 한 멀티 테넌트 Queue
          - 이벤트 브로드캐스팅, 작업 분산 및 지점 간 메시징을 포함한 몇 가지 공통 패턴 지원
          - 커스텀 백엔드 및 메세지 필터를 지원하는 컴포넌트 기반 아키텍처
          - 낮은 대기 시간과 높은 처리량을 목표로 효율적인 참조 구현(백엔드와는 다름)
          - 고가용성 및 수평 확장성
          - 다음 몇가지 알림 유형 사용 (이미지 알림, 웹훅 알림, 웹 소캣 알림)
        - Manila(공유 파일 시스템 서비스)
          - 오픈스택 공유 파일 시스템이며, 파일 스토리지를 가상 머신에 제공함, 공유 파일 시스템 서비스는 공유 파일 관리 및 프로비저닝을 지원, 해당 서비스는 드라이버가 지원하면 공유 스냅샷 관리뿐만 아니라 공유 유형 관리도 활성화
          - manila-api(공유 파일 시스템 서비스 요청을 인증 및 라우팅 하는 WSGI 앱임, 오픈스택 API 지원)
          - manila-data(Stondalone 서비스로 요청을 수락하고 복사, 마이그레이션 또는 백업 공유, 동작이 완료된 이후 응답을 다시 보내는 것등 데이터 동작을 처리하려는 목적)
          - manila-scheduler(요청을 적절한 공유 서비스에 스케쥴링 및 라우팅함, 스케쥴러는 요청을 라우팅하려고 구성 가능한 필터 및 Weigher를 사용, 필터 스케쥴러가 기본 값이며, 용량, 가용 구역, 공유 유형, Capability 등을 사용자 정의 필터로 활성화)
          - manila-share(공유 파일 시스템을 제공하는 백엔드 장치 관리/ 프로세스는 공유 서버 관리를포함하거나 포함하지 않는 두모드 중 하나 실행가능)
          - 메시지 Queue(공유파일시스템 프로세스 간 정보를 전달)
        - DNS 서비스 Designate
          - 오픈스택에 다음 도메인 네임 서비스를 제공함
            - 도메인 및 레코드를 관리하는 REST API
            - 다중 사용자 지원
            - 인증을 하려고 Keystone과 통합
            - Nova 및 Neutron 알림과 통합할 수 있는 프레임워크
            - PowerDNS 및 BIND9 지원
            - 요소
              - Designate API(표준 오픈스택 rest api 서비스를 제공하며, http 요청을 수락, Keystone으로 인증 토큰을 확인한 후에 AMQP를 이용해 Designate Central 서비스에 전달 / api 확장과 여러 버전의 api를 호스팅 할 수 있으므로 Core API를 확장할 수 있음 )
              - Designate Central(MQ를 이용해 RPC 요청을 처리하는 서비스로 데이터의 영구 스토리지를 설정하고 API에서 데이터에 비즈니스 로직을 적용함, MongoDB 나 다른 스토리지 드라이버가 가능하지만 저장은 플러그인으로 제공(SQLAlchemy)
              - 그외에 Designate (MiniDNS, Pool Manager, Zone Manager, Sink), DNS BACKEND, Database/Storage, Memory Caching, 메세지 Queue 등이 있음
        - 키 관리 서비스 Barbican
          - 바비칸은 암호, 암호화 키, x.509 인증서 같은 보안을 저장하고 프로비저닝 및 관리를 하려고 설계된 REST API임
          - 대규모 크랄우드를 포함하므로 모든 환경에서 유용
          - 대칭키 / 비대칭키/ 원시 비밀을 같은 유형의 암호화 키를 처리
            - 대칭키는 AES 알고리즘 세트로 데이터를 가역적으로 암호화하는데 사용
            - 비대칭 키는 비대치 킹 쌍(공개키, 개인키)은 신뢰할 수 없는 당사자 간의 통신이 필요한 시나리오에서 많이 사용
            - 원시 비밀은 바비칸은 기밀을 bASE64로 인코딩된 데이터 블록으로 저장함
        - Magnum(컨테이너 서비스)
          - Magnum은 오픈스택 api서비스로 Docker Swarm, Kubernetes, Apache Mesos 같은 컨테이너 오케스트레이션 엔진을 오픈스택의 일부 리소스로 사용 가능
          - 요소
            - 클러스터 : 작업이 예약된 노드 객체의 모음을 의미
            - 클러스터탬플릿 : 객체는 새로운 클러스터를 일관되게 생성하는 데 사용되는 클러스터 템플릿 정보 저장
          - 바이너리 2개가 함꼐 작동해 매그넘 시스템 구성
          - 첫번째 바이너리는 매그넘api의 REST 서버임(REST 서버는 하나의 프로세스 OR 여러가지 프로세스에서 실행 가능), Rest 요청이 클라이언트 api로 전송되면 요청은 AMQP를 이용해 대용량 처리기로 전송됨, 수평적으로 확장 가능
        - Murano(어플리케이션 카탈로그 서비스)
          - 오픈스택에 응용프로그램 카탈로그를 도입해 응용 프로그램 개발자와 클라우드 관리자가 탐색가능한 범주화된 카탈로그에 다양한 클라우드 지원 응용프로그램을 게시할 수 있게함 그러면 경험이 없는 사용자는 버튼을 눌러 신뢰할 수 있는 응용프로그램 환경을 구성하는 데 카탈로그를 사용 가능
          - 핵심목표는 응용프로그램 추상화 수준에서 복잡한 환경을 작성 및 배포하고 라이프 사이클을 관리할 수 있는 UI 및 API를 제공
        - Congress (거버넌스 시스템)
          - 동적 인프라 관리 및 규정 준수를 하려고 모든 클라우드 서비스 컬렉션에서 서비스로 정책을 제공하는 오픈스택 프로젝트
          
