# 머신러닝(데이터변환)

```
데이터 변환

데이터 호환성을 위한 필수 변환 / 숫자가 아닌 피쳐를 숫자로 변환 

모델이 나은 성능을 발휘하는데 도움이 될 수 있는 선택적 품질 변환

변환은 어디에서?

훈련전 변환 
(계산은 한번 / 계산은 전체 데이터 집합을 보고 변환 결정)
(그러나 변환은 예측시간에 재현해야함 / 변환 변경에는 데이터생성을 다시 실행해야하므로 반복 속도가 느림!)

모델 내 변환 
(모델은 변환되지 않은 데이터를 입력하여 사용하며 모델 내에서 변환 )

쉬운 반복, 변환을 변경하는 경우에도 동일한 데이터 파일 사용 가능! / 훈련 및 예측 시간에 동일한 변환 보장 

고가의 변환은 모델 대기 시간을 증가시킬 수 있음 / 배치 당 변환임 (단점)

데이터 탐색, 정리 및 시각화

여러 데이터 행을 검사합니다.
기본 통계를 확인합니다.
누락된 숫자 항목을 수정합니다.
```

```
숫자 데이터 변환 
정규화 - 숫자 데이터를 다른 숫자 데이터와 동일한 축척으로 변환합니다.
버킷 - 숫자(일반적으로 연속) 데이터를 범주형 데이터로 변환합니다.

동일한 피쳐(예: 도시 인구)에 값이 매우 다른 경우 정규화가 필요합니다. 정규화가 없으면 그라데이션 업데이트가 너무 크면 교육이 NaN으로 불릴 수 있음

범위가 크게 다른 두 가지 기능(예: 연령 및 소득)이 있어 그라데이션 하강이 "바운스"되고 수렴 속도가 느려질 수 있음
정상화할 때 는 기울이기를 방지하기 위해 서빙 시간에 동일한 정규화가 적용되는지 확인

정규화 (정규화의 목표는 유사한 규모로 기능을 변환하는 것)

범위로 크기 조정, 클리핑 ,로그 크기 조정, z 점수

범위로 크기 조정
부동점 피쳐 값을 자연 범위(예: 100에서 900)에서 표준 범위(일반적으로 0 및 1)로 변환하는 것을 의미

기능 클리핑
데이터 집합에 극단적인 이상치가 포함된 경우 피처 클리핑을 시도할 수 있으며, 이는 특정 값을 고정값으로 상한하는 기능 클리핑을 시도할 수 있음

수식: 이상값을 피하기 위해 최소/최대 값을 설정

로그 크기 조정
로그 배율 조정은 값의 로그를 계산하여 넓은 범위를 좁은 범위로 압축합니다.

로그 크기 조정은 소수의 값이 많은 점을 가지고 있는 반면 대부분의 다른 값에는 몇 가지 점이 있는 경우에 유용

이 떄 데이터 배포를 전력법 배포라고함!

Z 점수
Z 점수는 평균에서 멀리 표준 편차의 수를 나타내는 배율조정의 변화입니다. z 점수를 사용하여 기능 분포에 평균 = 0 및 std = 1이 있는지 확인합니다. 몇 가지 이상치가 있을 때 유용하지만 너무 극단적이지 않으므로 클리핑이 필요
```
![숫자의 정규화](https://i.imgur.com/Nwehth2.png)

```
버킷링

위도 예제와 같은 경우 위도를 버킷으로 나누어 각 버킷의 하우징 값에 대해 다른 것을 배워야 합니다. 임계값 집합을 사용하여 숫자 피쳐를 범주형 피처로 변환하는 것을 버킷링(또는 binning)이라고 함

정량적 버킷

간격이 있는 버킷이 이 분포를 잘 캡처하지 못한다는 것입니다. 해결책은 각각 동일한 수의 점을 갖는 버킷을 만드는 것입니다. 이 기술을 정량적 버킷이라고 합니다

숫자 피처를 버킷화하도록 선택한 경우 경계를 설정하는 방법과 적용중인 버킷 유형에 대해 명확히 설명
테두리가 동등하게 간격이 있는 버킷: 경계가 고정되고 동일한 범위(예: 0-4도, 5-9도 및 10-14도, 또는 $5,000-$9,999, $10,000-$14,999, $15,000-$19,999)를 포함
정량적 경계가 있는 버킷: 각 버킷에는 동일한 수의 포인트가 있습니다. 경계가 고정되지 않으며 값의 좁거나 넓은 범위를 포괄

범주형 데이터 변환

기능은 정렬된 관계에 없는 개별 값(단어/ 우편번호 품족) -> 이러한 피쳐를 범주형이라고 함!

종종 정수 값을 포함하는 피쳐를 숫자 데이터가 아닌 범주형 데이터로 표현해야 하는 경우가 많음

어휘
어휘에서 각 값은 고유한 피쳐를 나타냄

보택시 (OOV)
수치 데이터에 이상값을 포함하는 것처럼 범주형 데이터도 마찬가지

색상각각을 별도의 범주로 제공하는 대신 Vocab (OOV)이라는캐치 올 카테고리로 일괄 할 수 있습니다. OOV를 사용하면 시스템은 이러한 각 희귀 색상에 대한 시간 교육을 낭비하지 않음

해시
또 다른 옵션은 모든 문자열(범주)을 사용 가능한 인덱스 공간에 해시하는 것(해시는 어휘를 조립할 필요가 없으며, 이는 시간이 지남에 따라 피처 배포가 크게 변경되는 경우에 유리)

해싱과 어휘의 하이브리드
하이브리드 접근 방식을 취하고 해시와 어휘를 결합할 수 있습니다.

해시 버킷의 범주는 인덱스를 공유해야 하며 모델은 좋은 예측을 하지 는 않지만 어휘 이외의 범주를 학습하기 위해 약간의 메모리를 할당

우리가 논의 한 다른 변환은 디스크에 저장 될 수 있지만 포함은 다릅니다. 포함은 학습되므로 일반적인 데이터 변환이 아니라 모델의 일부
```

```
회귀 모델에 대한 데이터를 전처리하는 것입니다. 어떤 변환이 필수입니까? 모든 비숫자 피쳐를 숫자피쳐로 변환 (행렬 곱을 문자열에서는 수행할 수 없음)

데이터 품질과 알고리즘에 대한 크기의 상대적 영향을 인식합니다.
데이터를 변환하는 시간에 대한 정보와 현실적인 기대치를 설정합니다.
전체 ML 워크플로우 내에서 데이터 수집 및 변환에 대한 일반적인 프로세스를 설명합니다.
원시 데이터를 수집하고 데이터 집합을 구성합니다.
불균형한 데이터를 고려하여 데이터 집합을 샘플링하고 분할합니다.
수치 및 범주형 데이터를 변환합니다.
```